<%= content_for :page_title, "All Ceramics Numbers" %>

<h1>All Ceramics Numbers</h1>

<% if @max %>
  <div class="table-responsive">
    <table class="table table-striped table-condensed">
      <%# number of names per row %>
      <% cols = 3 %>
      <% for num in 0..@max %>
        <%# time to start a new row %>
        <% if num % cols == 0 %>
          <tr>
        <% end %>

        <% if person = @people.where(ceramics_number: num).first then %>
          <td><%= person.ceramics_number.to_s.rjust(2, '0') %></td><td><%= person.name %></td>
        <% else %>
          <td style="height:40px"><%= num.to_s.rjust(2, '0') %></td><td></td>
        <% end %>

        <%# time to end a row %>
        <% if num % cols == cols - 1 %>
          </tr>
        <% end %>
      <% end %>
    </table>
    </div>

    <p/ style="page-break-before: always">
    <div class="table-responsive">
    <table class="table table-striped table-condensed">
      <% @people.each_with_index do |person, i| %>
        <% if i % cols == 0 %>
          <tr>
        <% end %>
        <td><%= person.name %></td><td><%= person.ceramics_number.to_s.rjust(2, '0') %></td>
        <% if i % cols == cols - 1 %>
          </tr>
        <% end %>
      <% end %>
    </table>
  </div>
<% end %>

<%= link_to 'Back to Session', @cuco_session, class: "hidden-print" %>
